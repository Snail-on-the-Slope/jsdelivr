(function(t){function e(e){for(var s,r,i=e[0],o=e[1],l=e[2],g=0,p=[];g<i.length;g++)r=i[g],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&p.push(n[r][0]),n[r]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);u&&u(e);while(p.length)p.shift()();return c.push.apply(c,l||[]),a()}function a(){for(var t,e=0;e<c.length;e++){for(var a=c[e],s=!0,i=1;i<a.length;i++){var o=a[i];0!==n[o]&&(s=!1)}s&&(c.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},n={app:0},c=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/jsdelivr/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=o;c.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("Main"),t._m(0)],1)},c=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"bg-light text-center text-lg-start fixed-bottom"},[a("div",{staticClass:"text-center p-3",staticStyle:{"background-color":"rgba(0, 0, 0, 0.2)"}},[t._v(" © 2021 "),a("span",{attrs:{"mx-2":"","mt-auto":""}},[a("a",{staticClass:"text-dark",attrs:{href:"https://github.com/Snail-on-the-Slope/jsdelivr",target:"_blank"}},[t._v("gitHub")])]),a("span",[t._v(" Гудзенко Полина ")])])])}],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[t.loading?a("nav",{staticClass:"navbar navbar-light bg-light"},[a("a",{staticClass:"navbar-brand"},[t._v("jsDelivr")]),a("form",{staticClass:"form-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchString,expression:"searchString"}],staticClass:"form-control mr-sm-2",attrs:{type:"search",placeholder:"Search","aria-label":"Search"},domProps:{value:t.searchString},on:{input:function(e){e.target.composing||(t.searchString=e.target.value)}}}),a("button",{staticClass:"btn btn-outline-success my-2 my-sm-0",attrs:{type:"submit"}},[t._v(" Search ")])])]):t._e(),t.loading?a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-hover"},[a("thead",[a("tr",[a("th",{staticClass:"d-none d-md-block",attrs:{scope:"col"}},[t._v("#")]),t._l(Object.keys(t.packages[0]),(function(e,s){return a("th",{key:s,attrs:{scope:"col"}},[t._v(" "+t._s(e)+" ")])}))],2)]),a("tbody",t._l(t.outputPackages,(function(e,s){return a("tr",{key:s,on:{click:function(a){return a.preventDefault(),t.openDetails(e)}}},[a("td",{staticClass:"d-none d-md-block",attrs:{scope:"row"}},[t._v(" "+t._s(t.currentPage+s+1)+" ")]),t._l(e,(function(e,s){return a("td",{key:s},[t._v(t._s(e))])}))],2)})),0)])]):t._e(),t.loading?a("nav",[a("ul",{staticClass:"pagination justify-content-center"},[a("li",{staticClass:"page-item",class:{disabled:0===t.currentPage}},[a("div",{staticClass:"page-link",on:{click:t.prevPage}},[t._v("Previous")])]),t._l(t.pages,(function(e){return a("li",{key:e,staticClass:"page-item d-none d-md-block",class:{active:t.currentPage===(e-1)*t.countPage},on:{click:function(a){return t.openPage(e)}}},[a("div",{staticClass:"page-link"},[t._v(t._s(e))])])})),a("li",{staticClass:"page-item",class:{disabled:t.currentPage>=t.packages.length-t.countPage}},[a("div",{staticClass:"page-link",on:{click:t.nextPage}},[t._v("Next")])])],2)]):t._e(),t.modalShow?a("b-modal",{scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v(" "+t._s(t.packageDetails[0].name)+" ")]},proxy:!0}],null,!1,3507821617),model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[a("div",[a("h4",[t._v("type:")]),t._v(" "+t._s(t.packageDetails[0].type)+" ")]),a("div",[a("h4",[t._v("name:")]),t._v(" "+t._s(t.packageDetails[0].name)+" ")]),0!==t.packageDetails[1].tags.length?a("div",[a("h4",[t._v("tags:")]),t._l(t.packageDetails[1].tags,(function(e,s){return a("div",{key:s},[a("span",[t._v(t._s(s)+": ")]),a("span",[t._v(t._s(e))])])}))],2):t._e(),a("div",[a("h4",[t._v("versions:")]),t._l(t.packageDetails[1].versions,(function(e,s){return a("span",{key:s,staticClass:"mr-2"},[t._v(' "'+t._s(e)+'" ')])}))],2)]):t._e()],1)},i=[],o={name:"Main",data:()=>({loading:!1,packages:null,packageDetails:null,modalShow:!1,searchString:"",pages:0,currentPage:0,countPage:10}),async created(){this.$store.getters.packages&&await this.$store.dispatch("fetchPackages"),this.packages=this.$store.getters.packages,this.pages=this.packages.length/this.countPage,this.loading=!0},computed:{searchResults(){return this.searchString?this.packages.filter(t=>t.name.includes(this.searchString)):this.packages},outputPackages(){return this.searchResults.slice(this.currentPage,this.currentPage+this.countPage)}},methods:{prevPage(){this.currentPage>=this.countPage&&(this.currentPage-=this.countPage)},nextPage(){this.currentPage<this.packages.length-this.countPage&&(this.currentPage+=this.countPage)},openPage(t){this.currentPage=(t-1)*this.countPage},async openDetails(t){await this.$store.dispatch("fetchPackageBy",t);this.packageDetails=[t,this.$store.getters.packageBy],this.modalShow=!0,console.log(this.packageDetails)}}},l=o,u=a("2877"),g=Object(u["a"])(l,r,i,!1,null,"6b92eccb",null),p=g.exports,d={name:"App",components:{Main:p}},h=d,v=(a("5c0b"),Object(u["a"])(h,n,c,!1,null,null,null)),f=v.exports,k=a("2f62"),m=a("bc3a"),b=a.n(m);s["default"].use(k["a"]);var _=new k["a"].Store({state:{packages:[],packageBy:null},mutations:{updatePackages(t,e){t.packages=e},updatePackageBy(t,e){t.packageBy=e}},actions:{async fetchPackages(t){await b.a.get("https://data.jsdelivr.com/v1/stats/packages").then(async e=>{t.commit("updatePackages",e.data)}).catch(t=>{console.log(t)})},async fetchPackageBy(t,e){await b.a.get(`https://data.jsdelivr.com/v1/package/${e.type}/${e.name}`).then(e=>{t.commit("updatePackageBy",e.data)}).catch(t=>{console.log(t)})}},getters:{packages:t=>t.packages,packageBy:t=>t.packageBy}}),y=a("5f5b"),P=a("b1e0");a("f9e3"),a("2dd8");s["default"].use(y["a"]),s["default"].use(P["a"]),s["default"].config.productionTip=!1,new s["default"]({store:_,render:function(t){return t(f)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";a("9c0c")},"9c0c":function(t,e,a){}});
//# sourceMappingURL=app.f045cd30.js.map